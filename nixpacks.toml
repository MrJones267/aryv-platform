# Nixpacks configuration for Railway deployment
# Updated: Force Node.js 20 (Node 18 is EOL)

[variables]
NIXPACKS_NODE_VERSION = "20"

[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
cmds = ["npm ci --legacy-peer-deps"]

[phases.build]
cmds = ["echo 'Build complete - using server-simple.js'"]

[start]
cmd = "node backend/server-simple.js"
